<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css"
    integrity="sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm" crossorigin="anonymous">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
    integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
    integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>

  <style>
    input[type="text"]::placeholder {

      /* Firefox, Chrome, Opera */
      text-align: center;
    }

    input[type="number"]::placeholder {

      /* Firefox, Chrome, Opera */
      text-align: center;
    }

    @media only screen and (max-width:300px) {

      .input {
        width: 150px;
        background-color: aqua;
      }

      .h2 {
        width: 50px;
      }


    }
  </style>
</head>
<%- include('../partials/heading5.hbs') %>

  <body>


    <h2>Enter Multisection quiz questions here</h2>

    <div class="container">
      <div class="row">




        <div class="col-lg-6 offset-lg-3 bg-light mt-5" style="text-align:center">



          <form id="myform" method="POST" enctype="multipart/form-data">

            <div class="form-group">
              <label for="exampleInputEmail1">Type Your Quiz name</label>
              <% if(typeof(yourquiz)!='undefined' ){%>
                <input type="text" class="form-control" aria-describedby="emailHelp" placeholder="Enter Quiz name"
                  name="yourquiz" id="yourquiz" value=<%=yourquiz%>>
                <%} else{%>
                  <input type="text" class="form-control" aria-describedby="emailHelp" placeholder="Enter Quiz name"
                    name="yourquiz" id="yourquiz">
                  <%}%>
            </div>
            <div class="form-group">
              <label for="exampleInputPassword1">Enter section Number</label>
              <input type="number" class="form-control" placeholder="Password" name="no" id="no">
            </div>
            <div class="form-group">
              <label for="exampleInputEmail1">Enter section name</label>

              <% if(typeof(section)!='undefined' ){%>

                <input type="text" class="form-control" aria-describedby="emailHelp" placeholder="Enter section name"
                  name="section" id="section" value=<%=section%> >
                <%} else{%>
                  <input type="text" class="form-control" aria-describedby="emailHelp" placeholder="Enter section name"
                    name="section" id="section">
                  <%}%>
            </div>
            <div class="form-group">
              <label for="exampleInputEmail1">Enter the number of questions in section</label>
              <% if(typeof(queno)!='undefined' ){%>
                <input type="number" class="form-control" aria-describedby="emailHelp"
                  placeholder="Enter no of questions in the section " name="qsection" id="qsection" value=<%=queno%>>

                <%} else{%>

                  <input type="number" class="form-control" aria-describedby="emailHelp"
                    placeholder="Enter no of questions in the section " name="qsection" id="qsection">
                  <%}%>

            </div>
            <div class="form-group">
              <label for="exampleInputEmail1">Enter the question number</label>
              <input type="number" class="form-control" aria-describedby="emailHelp" placeholder="Enter Answercode"
                name="qno" id="qno">
            </div>
            <div class="form-group">
              <label for="exampleInputEmail1">Enter the question </label>
              <input type="text" class="form-control" aria-describedby="emailHelp" placeholder="Enter the question"
                name="myquestion" id="myquestion">
            </div>


            <div class="form-group">
              Upload questions Image <input type="file" id="photo3" />
              <button type="button" onclick="uploadImage3()">Upload queimg image</button>
            </div>
            <div class="form-group">
              <label for="exampleInputEmail1">Enter the integer answer 1 to 10 </label>
              <input type="number" class="form-control" aria-describedby="emailHelp" placeholder="Enter the integer"
                name="myinteger" id="myinteger">
            </div>

            <div class="form-group">
              <label for="exampleInputEmail1">Enter the passage to be read </label>
              <textarea class="form-control" name="passage" rows="5" name="passage" id="passage"></textarea>
            </div>


            <div class="form-group">
              Upload passage Image <input type="file" id="photo2" />
              <button type="button" onclick="uploadImage2()">Upload passage image</button>
            </div>


            <div class="form-group">
              <label for="exampleInputEmail1">Enter the answercode1</label>
              <input type="number" class="form-control" aria-describedby="emailHelp" placeholder="Enter Answercode"
                name="answercode1" id="answercode1">
            </div>
            <div class="form-group">
              <label for="exampleInputEmail1">Enter the answercode2</label>
              <input type="number" class="form-control" aria-describedby="emailHelp" placeholder="Enter Answercode"
                name="answercode2" id="answercode2">
            </div>
            <div class="form-group">
              <label for="exampleInputEmail1">Enter the answercode3</label>
              <input type="number" class="form-control" aria-describedby="emailHelp" placeholder="Enter Answercode"
                name="answercode3" id="answercode3">
            </div>

            <div class="form-group">
              <label for="exampleInputEmail1">Enter the Option 1</label>
              <input type="text" class="form-control" aria-describedby="emailHelp" placeholder="Enter Option1"
                name="myquestion1" id="myquestion1">
            </div>
            <div class="form-group">
              <label for="exampleInputEmail1">Enter the Option 2</label>
              <input type="text" class="form-control" aria-describedby="emailHelp" placeholder="Enter Option2"
                name="myquestion2" id="myquestion2">
            </div>
            <div class="form-group">
              <label for="exampleInputEmail1">Enter the Option 3</label>
              <input type="text" class="form-control" aria-describedby="emailHelp" placeholder="Enter Option3"
                name="myquestion3" id="myquestion3">
            </div>
            <div class="form-group">
              <label for="exampleInputEmail1">Enter the Option 4</label>
              <input type="text" class="form-control" aria-describedby="emailHelp" placeholder="Enter Option4"
                name="myquestion4" id="myquestion4">
            </div>



            <div class="form-group">
              <label for="exampleFormControlTextarea1">Enter the solution</label>
              <textarea class="form-control" rows="5" name="Mysolutions" id="Mysolutions"></textarea>
            </div>
            <div class="form-group">
              Upload solutions Image <input type="file" id="photo1" />
              <button type="button" onclick="uploadImage1()">Upload Solution image</button>

            </div>



        </div>

      </div>



      <div class="form-group">

      </div><br>

      Upload Question accompanying image <input type="file" id="photo" />
      <button type="button" onclick="uploadImage()">Upload Question accompanying image</button>
    </div>

    </div><br>

    <div>
      <div>
        Upload Question option1 image <input type="file" id="photo5" />
        <button type="button" onclick="uploadImage5()">Upload Question option1 image</button>
      </div>
    <br>

    <div>
      Upload Question option2 image <input type="file" id="photo6" />
      <button type="button" onclick="uploadImage6()">Upload Question option2 image</button>
    </div>
      <br>
      <div>
        Upload Question option3 image <input type="file" id="photo7" />
        <button type="button" onclick="uploadImage7()">Upload Question option3 image</button>

      </div>
    <br>
    <div>
      Upload Question option4 image <input type="file" id="photo8" />
      <button type="button" onclick="uploadImage8()">Upload Question option4 image</button>

    </div>
      <br>
    </div>


    <div class="form-group">
      <label for="exampleFormControlSelect1">question type</label>

      <% if(typeof(type)!='undefined' ){%>

        <select class="form-control" name="type" id="type" value=<%=type%>>
          <option value="multichoice">multichoice</option>
          <option value="integertype">integertype</option>

          <option value="multi">multipleoptions</option>

        </select>
        <%}else{%>
          <select class="form-control" name="type" id="type">
            <option value="multichoice">multichoice</option>
            <option value="integertype">integertype</option>
            <option value="passage">passage</option>
            <option value="multi">multipleoptions</option>

          </select>

          <%}%>
    </div>
    <div class="form-group">
      <label for="exampleInputEmail1">Enter the time for the test</label>

      <input type="number" class="form-control" id="mytime" aria-describedby="emailHelp" placeholder="Enter totaltime"
        name="mytime">

    </div>
    <div class="form-group">
      <label for="exampleInputEmail1">Enter Before time</label>
      <% if(typeof(beforetime)!='undefined' ){%>

        <input type="number" class="form-control" id="beforetime" aria-describedby="emailHelp"
          placeholder="Enter beforetime" name="beforetime" value=<%=beforetime%>>
        <%}else{%>
          <input type="number" class="form-control" id="beforetime" aria-describedby="emailHelp"
            placeholder="Enter beforetime" name="beforetime">

          <%}%>
    </div>

    <div class="form-group">
      <label for="exampleInputEmail1">Enter postive marks awarded if any</label>
      <input type="text" class="form-control" id="pm" aria-describedby="emailHelp" placeholder="Enter beforetime"
        name="pm">
    </div>
    <div class="form-group">
      <label for="exampleInputEmail1">Enter negative marks if any</label>
      <input type="text" class="form-control" id="nm" aria-describedby="emailHelp" placeholder="Enter beforetime"
        name="nm">
    </div>

    <button type="submit" class="btn btn-primary ">submit the question</button>

    </form>

    </div>


    </div>
    </div>


    <script>
    //function getdata(){
    //let quizn=document.querySelector('.ty')
    //let quizn1=document.querySelector('.yourquiz')
    //quizn1.value=quizn.value
   // console.log({{gh}})
    //console.log(quizn1.value)
   // }




    </script>

    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title" id="myModalLabel1">
              Upload Image
            </h4>
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
              x
            </button>
          </div>

          <div class="modal-body">
            <form method="POST" action="" enctype="multipart/form-data" id="form-upload">
              <div class="form-group">
                <input type="file" name="file" id="file" class="form-control">
              </div>
              <input type="submit" class="btn btn-success" value="Upload">
            </form>

          </div>
        </div>
      </div>
    </div>
    <div class="modal fade" id="myModal1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title" id="myModalLabel2">
              Upload Image
            </h4>
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
              x
            </button>
          </div>

          <div class="modal-body">
            <form method="POST" action="" enctype="multipart/form-data" id="form-upload1">
              <div class="form-group">
                <input type="file" name="file" id="file" class="form-control">
              </div>
              <input type="submit" class="btn btn-success" value="Upload">
            </form>

          </div>
        </div>
      </div>
    </div>
    <div class="modal fade" id="myModal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title" id="myModalLabel3">
              Upload Image
            </h4>
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
              x
            </button>
          </div>

          <div class="modal-body">
            <form method="POST" action="" enctype="multipart/form-data" id="form-upload2">
              <div class="form-group">
                <input type="file" name="file" id="file" class="form-control">
              </div>
              <input type="submit" class="btn btn-success" value="Upload">
            </form>

          </div>
        </div>
      </div>
    </div>
    <div class="modal fade" id="myModal3" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title" id="myModalLabel4">
              Upload Image
            </h4>
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
              x
            </button>
          </div>

          <div class="modal-body">
            <form method="POST" action="" enctype="multipart/form-data" id="form-upload3">
              <div class="form-group">
                <input type="file" name="file" id="file" class="form-control">
              </div>
              <input type="submit" class="btn btn-success" value="Upload">
            </form>

          </div>
        </div>
      </div>
    </div>


    <script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-storage.js"></script>

    <script>

      //------------------------------------------------------------------------------------------------
      function showdialog(data) {
        let myid = data.id
        $("#myModal").modal("show")

      }

      function showdialog1(data) {
        let myid = data.id
        $("#myModal1").modal("show")

      }
      function showdialog2(data) {
        let myid = data.id
        $("#myModal2").modal("show")

      }
      function showdialogm(data) {
        let myid = data.id
        $("#myModal3").modal("show")

      }




      $("#myform").on("submit", function (e) {

        e.preventDefault()
        alert("ddd")

        //var now = new Date();

        var formData = {
          yourquiz: $("#yourquiz").val(),
          no: $("#no").val(),
          section: $("#section").val(),
          passage: $("#passage").val(),
          qno: $("#qno").val(),
          myquestion: $("#myquestion").val(),
          qsection: $("#qsection").val(),
          Mysolutions: $("#Mysolutions").val(),
          myinteger: $("#myinteger").val(),
          answercode1: $("#answercode1").val(),
          answercode2: $("#answercode2").val(),
          answercode3: $("#answercode3").val(),
          myquestion1: $("#myquestion1").val(),
          myquestion2: $("#myquestion2").val(),
          myquestion3: $("#myquestion3").val(),
          myquestion4: $("#myquestion4").val(),
          type: $("#type").val(),
          mytime: $("#mytime").val(),
          beforetime: $("#beforetime").val(),
          pm: $("#pm").val(),
          nm: $("#nm").val(),
          myquestionimg: imagePath,
          Mysolutionsimg: imagePath1,
          passageimg: imagePath2,
          myfiles: imagePath3,
optionImg1:imagePath5,
optionImg2:imagePath6,
optionImg3:imagePath7,
optionImg4:imagePath8,



        };


        $.ajax({
          url: "/postmultioptions",
          method: "POST",
          data: formData,
          success: function (response) {

            $("#photo1").val('');
            $("#photo2").val('');
            $("#photo3").val('');
            $("#photo").val('');
            imagePath = ""
            imagePath1 = ""
           // imagePath2 = ""
            imagePath3 = ""
            imagePath5 = ""
            imagePath6 = ""
            imagePath7 = ""
            imagePath8 = ""
            alert(response.message)

          }
        })
        return false;

      })








      //--------------------------------------using local space-----------------------------------------------------------

      // var imagePath=""

      // $("#form-upload").on("submit",function(e){

      // e.preventDefault()

      // $.ajax({
      //   url: "/do-uploadprofileimage",
      //   type: "POST",
      //   data: new FormData(this),
      //   contentType: false,
      //   cache:false,
      //   processData: false,
      //   success:function(response){

      //  alert(response)

      //     imagePath=response;
      //         console.log(imagePath)
      //   }
      // })

      // })

      // var imagePath1=""

      // $("#form-upload1").on("submit",function(e){

      // e.preventDefault()

      // $.ajax({
      //   url: "/do-uploadprofileimage1",
      //   type: "POST",
      //   data: new FormData(this),
      //   contentType: false,
      //   cache:false,
      //   processData: false,
      //   success:function(response){

      //  alert(response)

      //     imagePath1=response;

      //   }
      // })

      // })

      // var imagePath2=""

      // $("#form-upload2").on("submit",function(e){

      // e.preventDefault()
      // alert("sadfg")

      // $.ajax({
      //   url: "/do-uploadprofileimage2",
      //   type: "POST",
      //   data: new FormData(this),
      //   contentType: false,
      //   cache:false,
      //   processData: false,
      //   success:function(response){


      //     imagePath2=response;


      //   }
      // })

      // })

      // var imagePath3=""

      // $("#form-upload3").on("submit",function(e){

      // e.preventDefault()

      // $.ajax({
      //   url: "/do-uploadprofileimage3",
      //   type: "POST",
      //   data: new FormData(this),
      //   contentType: false,
      //   cache:false,
      //   processData: false,
      //   success:function(response){

      // alert("uploaded")

      //     imagePath3=response;

      //     //$("#myModal3").modal("hide")
      //   }
      // })

      // })



      //-------------------------------------------------------------------------------------------
      //-----------------------------Using firebase to store images and questions----------------------///


      const firebaseConfig = {
        apiKey: "AIzaSyAZ9x_QbhCfY9aEsqxEiYhWtfIRNGl_qeo",
        authDomain: "mynewproject-ae49a.firebaseapp.com",
        projectId: "mynewproject-ae49a",
        storageBucket: "mynewproject-ae49a.appspot.com",
        messagingSenderId: "939005557600",
        appId: "1:939005557600:web:ee766070db4bd2dadfbc05",
        measurementId: "G-YFKTT151SN"
      };

      firebase.initializeApp(firebaseConfig);


      async function uploadImage() {
        const ref = firebase.storage().ref();
        const file = document.querySelector("#photo").files[0];
        const name = +new Date() + "-" + file.name;
        const metadata = {
          contentType: file.type
        };
        try {
          await ref.child(name).put(file, metadata).then(snapshot => snapshot.ref.getDownloadURL())
            .then(url => {
              newurl = url
              callback(url)
            })
        }
        catch (err) {
          console.log(err)
        }
        function callback(url) {
          console.log(url)
          newcallback(url)
        }
      }
      var imagePath3 = ""
      function newcallback(url) {
        let newurl = url;
        var formData = {
          uploadimg: newurl,
        };
        $.ajax({
          url: "/do-uploadprofileimage3",
          method: "POST",
          data: formData,
          success: function (response) {
            alert(response.message)
            imagePath3 = response;
          }
        })
      }

      async function uploadImage1() {
        const ref = firebase.storage().ref();
        const file = document.querySelector("#photo1").files[0];
        const name = +new Date() + "-" + file.name;
        const metadata = {
          contentType: file.type
        };
        try {
          await ref.child(name).put(file, metadata).then(snapshot => snapshot.ref.getDownloadURL())
            .then(url => {
              newurl = url
              callback1(url)
            })
        }
        catch (err) {
          console.log(err)
        }

        function callback1(url) {
          console.log(url)
          newcallback1(url)
        }
      }
      var imagePath1 = ""
      function newcallback1(url) {
        let newurl = url;
        var formData = {
          uploadimg: newurl,
        };
        $.ajax({
          url: "/do-uploadprofileimage3",
          method: "POST",
          data: formData,
          success: function (response) {
            alert(response.message)
            imagePath1 = response;
          }
        })
      }


      async function uploadImage2() {
        const ref = firebase.storage().ref();
        const file = document.querySelector("#photo2").files[0];
        const name = +new Date() + "-" + file.name;
        const metadata = {
          contentType: file.type
        };
        try {
          await ref.child(name).put(file, metadata).then(snapshot => snapshot.ref.getDownloadURL())
            .then(url => {
              newurl = url
              callback2(url)
            })
        }
        catch (err) {
          console.log(err)
        }
        function callback2(url) {
          console.log(url)
          newcallback2(url)
        }
      }
      var imagePath2 = ""
      function newcallback2(url) {
        let newurl = url;
        var formData = {
          uploadimg: newurl,
        };
        $.ajax({
          url: "/do-uploadprofileimage3",
          method: "POST",
          data: formData,
          success: function (response) {
            alert(response.message)
            imagePath2 = response;
          }
        })
      }


      async function uploadImage3() {
        const ref = firebase.storage().ref();
        const file = document.querySelector("#photo3").files[0];
        const name = +new Date() + "-" + file.name;
        const metadata = {
          contentType: file.type
        };
        try {
          await ref.child(name).put(file, metadata).then(snapshot => snapshot.ref.getDownloadURL())
            .then(url => {
              newurl = url
              callback3(url)
            })
        }
        catch (err) {
          console.log(err)
        }
        function callback3(url) {
          console.log(url)
          newcallback3(url)
        }
      }
      var imagePath = ""
      function newcallback3(url) {
        let newurl = url;
        var formData = {
          uploadimg: newurl,
        };
        $.ajax({
          url: "/do-uploadprofileimage3",
          method: "POST",
          data: formData,
          success: function (response) {
            alert(response.message)
            imagePath = response;
          }
        })
      }

//------------------------------options upload------------------------------------------------
      async function uploadImage5() {
        const ref = firebase.storage().ref();
        const file = document.querySelector("#photo5").files[0];
        const name = +new Date() + "-" + file.name;
        const metadata = {
          contentType: file.type
        };
        try {
          await ref.child(name).put(file, metadata).then(snapshot => snapshot.ref.getDownloadURL())
            .then(url => {
              newurl = url
              callback5(url)
            })
        }
        catch (err) {
          console.log(err)
        }

        function callback5(url) {
          console.log(url)
          newcallback5(url)
        }
      }
      var imagePath5 = ""
      function newcallback5(url) {
        let newurl = url;
        var formData = {
          uploadimg: newurl,
        };
        $.ajax({
          url: "/do-uploadprofileimage3",
          method: "POST",
          data: formData,
          success: function (response) {
            alert(response.message)
            imagePath5 = response;
          }
        })
      }

      async function uploadImage6() {
        const ref = firebase.storage().ref();
        const file = document.querySelector("#photo6").files[0];
        const name = +new Date() + "-" + file.name;
        const metadata = {
          contentType: file.type
        };
        try {
          await ref.child(name).put(file, metadata).then(snapshot => snapshot.ref.getDownloadURL())
            .then(url => {
              newurl = url
              callback6(url)
            })
        }
        catch (err) {
          console.log(err)
        }
        function callback6(url) {
          console.log(url)
          newcallback6(url)
        }
      }
      var imagePath6 = ""
      function newcallback6(url) {
        let newurl = url;
        var formData = {
          uploadimg: newurl,
        };
        $.ajax({
          url: "/do-uploadprofileimage3",
          method: "POST",
          data: formData,
          success: function (response) {
            alert(response.message)
            imagePath6 = response;
          }
        })
      }

      async function uploadImage7() {
        const ref = firebase.storage().ref();
        const file = document.querySelector("#photo7").files[0];
        const name = +new Date() + "-" + file.name;
        const metadata = {
          contentType: file.type
        };
        try {
          await ref.child(name).put(file, metadata).then(snapshot => snapshot.ref.getDownloadURL())
            .then(url => {
              newurl = url
              callback7(url)
            })
        }
        catch (err) {
          console.log(err)
        }

        function callback7(url) {
          console.log(url)
          newcallback7(url)
        }
      }
      var imagePath7 = ""
      function newcallback7(url) {
        let newurl = url;
        var formData = {
          uploadimg: newurl,
        };
        $.ajax({
          url: "/do-uploadprofileimage3",
          method: "POST",
          data: formData,
          success: function (response) {
            alert(response.message)
            imagePath7 = response;
          }
        })
      }

      async function uploadImage8() {
        const ref = firebase.storage().ref();
        const file = document.querySelector("#photo8").files[0];
        const name = +new Date() + "-" + file.name;
        const metadata = {
          contentType: file.type
        };
        try {
          await ref.child(name).put(file, metadata).then(snapshot => snapshot.ref.getDownloadURL())
            .then(url => {
              newurl = url
              callback8(url)
            })
        }
        catch (err) {
          console.log(err)
        }

        function callback8(url) {
          console.log(url)
          newcallback8(url)
        }
      }
      var imagePath8 = ""
      function newcallback8(url) {
        let newurl = url;
        var formData = {
          uploadimg: newurl,
        };
        $.ajax({
          url: "/do-uploadprofileimage3",
          method: "POST",
          data: formData,
          success: function (response) {
            alert(response.message)
            imagePath8 = response;
          }
        })
      }

//-------------------------------------------------------------------------------------------------






    </script>
  </body>

</html>